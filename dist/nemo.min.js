angular.module("nemo",["ngSanitize"]).config(["nemoInputDirectiveCreatorProvider","nemoValidationDirectiveCreatorProvider","nemoUtilsProvider","captchaProvider","checkboxProvider","serverValidationProvider",function(a,b,c,d,e,f){a.input("text",{template:'<input type="text" />',defaultValue:""}).input("dropdown",{template:'<select data-ng-options="option.value as option.text for option in model.options"><option value="">Please select...</option></select>',defaultValue:""}).input("hidden",{template:'<input type="hidden" ng-value="model.value" />',defaultValue:""}).input("password",{template:'<input type="password" />',defaultValue:""}).input("email",{template:'<input type="text" />',defaultValue:""}).input("checkbox",e).input("captcha",d),b.validation("required",{validateFn:function(a,b,c,d){return!b.value||!d.$isEmpty(a)}}).validation("inlist",{validateFn:function(a,b){return!a||c.contains(b.value,a)}}).validation("pattern",{validateFn:function(a,b){return!a||new RegExp(b.value).test(a)}}).validation("notpattern",{validateFn:function(a,b){return!a||!new RegExp(b.value).test(a)}}).validation("mustnotcontain",{validateFn:function(a,b,c){var d=c.getFieldValue(b.value,!0);return!a||!d||a.toLowerCase().indexOf(d.toLowerCase())<0}}).validation("mustnotcontainmatchedgroup",{validateFn:function(a,b,c){var d=c.getFieldValue(b.value.field,!0);if(d){var e=d.match(b.value.match);d=e&&e[1]}return!a||!d||a.toLowerCase().indexOf(d.toLowerCase())<0}}).validation("mustmatch",{validateFn:function(a,b,c){var d=c.getFieldValue(b.value,!0);return!a||a===d}}).validation("mustmatchcaseinsensitive",{validateFn:function(a,b,c){var d=c.getFieldValue(b.value,!0);return!a||!d||a.toLowerCase()===d.toLowerCase()}}).validation("minlength",{validateFn:function(a,b){return!a||!b||a.length>=b.value}}).validation("maxlength",{validateFn:function(a,b){return!a||!b||a.length<=b.value}}).validation("email",{validateFn:function(a,b){return!a||!b.value||new RegExp(/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i).test(a)}}).validation("mustbeequal",{validateFn:function(a,b){return!a&&a!==!1||a===b.value}}).validation("dependentpattern",{validateFn:function(a,b,c){var d=c.getFieldValue(b.value,!0),e=b.patterns[d];return!a||new RegExp(e,"i").test(a)}}).validation("dependentrequired",{validateFn:function(a,b,d,e){var f=d.getFieldValue(b.value,!0),g=c.contains(b.when,f);return!g||!e.$isEmpty(a)}}).validation("server",f)}]),function(a,b){"use strict";function c(a){var b=[];return k(b,i).chars(a),b.join("")}var d,e,f,g,h,i,j,k,l=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",function(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?h(e[c]):e[c]]=!0;return d}function m(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function n(a){return a.replace(/&/g,"&amp;").replace(r,function(a){var b=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(b-55296)+(a-56320)+65536)+";"}).replace(s,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(b){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;d<e;d++){var f=c[d],g=f.name.toLowerCase();"xmlns:ns1"!==g&&0!==g.lastIndexOf("ns1:",0)||(b.removeAttributeNode(f),d--,e--)}(c=b.firstChild)&&o(c),(c=b.nextSibling)&&o(c)}var p=!1;this.$get=["$$sanitizeUri",function(a){return p&&e(z,x),function(b){var c=[];return j(b,k(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return g(a)?(p=a,this):p},d=b.bind,e=b.extend,f=b.forEach,g=b.isDefined,h=b.lowercase,i=b.noop,j=function(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),q.innerHTML=b;var d=5;do{if(0===d)throw l("uinput");d--,a.document.documentMode&&o(q),b=q.innerHTML,q.innerHTML=b}while(b!==q.innerHTML);for(d=q.firstChild;d;){switch(d.nodeType){case 1:c.start(d.nodeName.toLowerCase(),m(d.attributes));break;case 3:c.chars(d.textContent)}var e;if(!(e=d.firstChild)&&(1==d.nodeType&&c.end(d.nodeName.toLowerCase()),e=d.nextSibling,!e))for(;null==e&&(d=d.parentNode,d!==q);)e=d.nextSibling,1==d.nodeType&&c.end(d.nodeName.toLowerCase());d=e}for(;d=q.firstChild;)q.removeChild(d)},k=function(a,b){var c=!1,e=d(a,a.push);return{start:function(a,d){a=h(a),!c&&y[a]&&(c=a),c||!0!==z[a]||(e("<"),e(a),f(d,function(c,d){var f=h(d),g="img"===a&&"src"===f||"background"===f;!0!==B[f]||!0===A[f]&&!b(c,g)||(e(" "),e(d),e('="'),e(n(c)),e('"'))}),e(">"))},end:function(a){a=h(a),c||!0!==z[a]||!0===t[a]||(e("</"),e(a),e(">")),a==c&&(c=!1)},chars:function(a){c||e(n(a))}}};var q,r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/([^\#-~ |!])/g,t=c("area,br,col,hr,img,wbr"),u=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=c("rp,rt"),w=e({},v,u),u=e({},u,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),v=e({},v,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),y=c("script,style"),z=e({},t,u,v,w),A=c("background,cite,href,longdesc,src,xlink:href"),w=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),v=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),B=e({},A,v,w);!function(a){if(!a.document||!a.document.implementation)throw l("noinert");a=a.document.implementation.createHTMLDocument("inert");var b=(a.documentElement||a.getDocumentElement()).getElementsByTagName("body");1===b.length?q=b[0]:(b=a.createElement("html"),q=a.createElement("body"),b.appendChild(q),a.appendChild(b))}(a)}),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&s.push(c(a))}function n(a,b){var c,d=q(a);s.push("<a ");for(c in d)s.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||s.push('target="',k,'" '),s.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),s.push("</a>")}if(null==b||""===b)return b;if(!j(b))throw f("notstring",b);for(var o,p,q=h(l)?l:i(l)?function(){return l}:function(){return{}},r=b,s=[];b=r.match(d);)o=b[0],b[2]||b[4]||(o=(b[3]?"http://":"mailto:")+o),p=b.index,m(r.substr(0,p)),n(o,b[0].replace(e,"")),r=r.substring(p+b[0].length);return m(r),a(s.join(""))}}])}(window,window.angular),angular.module("nemo").provider("nemoMessages",[function(){function a(a,b){c[a]=b}function b(a){return c[a]}var c={};return{set:a,get:b,$get:function(){return{set:a,get:b}}}}]),angular.module("nemo").provider("nemoUtils",["nemoMessagesProvider",function(a){"use strict";function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}function c(a,b){var c=!1;return a&&a.length&&angular.forEach(a,function(a){c=c||b===a}),c}function d(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;j<b?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}}function e(b,c,d,e){var g=d.model.name+c;a.set(g,b),e.$setValidity(g,!1),f(d,e,g)}function f(a,b,c){var d=a.$watch(function(){return b.$viewValue},function(a,e){a!==e&&(b.$setValidity(c,!0),d())})}return{capitalise:b,contains:c,debounce:d,forceServerInvalid:e,$get:function(){return{capitalise:b,contains:c,debounce:d}}}}]),angular.module("nemo").provider("captcha",["nemoUtilsProvider",function(a){return{template:'<div class="nemo-captcha"><img class="nemo-captcha-img" ng-src="{{captchaModel.getImageUri()}}"><div class="nemo-captcha-play" ng-click="playAudio($event)"></div><p class="nemo-captcha-refresh" ng-click="refreshCaptcha($event)">{{getRequestCaptchaCopy()}}</p><input class="nemo-captcha-input" type="text" ng-model="model.value" name="captchaInput" placeholder="{{model.properties.placeholder.message}}" ng-focus="setActiveCaptchaField()" ng-blur="setTouchedCaptchaField()"><audio class="nemo-captcha-audio" ng-src="{{captchaModel.getAudioUri()}}">Your browser does not support audio</audio></div>',linkFn:function(a,b,c,d){var e=d[0],f=d[1],g=a.$watch("model.value",function(a,b){a!==b&&(e.$setDirty(),g())});a.updateCaptchaId=function(a){f.setFieldValue("captchaId",a)},a.playAudio=function(a){a.stopPropagation(),a.preventDefault(),b.find("audio")[0].play()},a.setActiveCaptchaField=function(){f.setActiveField(a.model.name)},a.setTouchedCaptchaField=function(){e.$setTouched()}},fieldInterfaceFns:function(b,c,d){return{setFocus:function(){c.find("input")[0].focus()},forceServerInvalid:function(c,e){b.refreshCaptcha(),a.forceServerInvalid(c,e,b,d)}}},controller:"CaptchaCtrl",$get:{}}}]),angular.module("nemo").provider("checkbox",[function(){return{template:'<div data-ng-click="toggle()" data-ng-keyup="toggleIfEnter($event)" data-ng-class="{checked: isChecked, focused: isFocused()}"><label class="tick" data-ng-show="isChecked">✔</label><input type="text" data-ng-focus="setFocus()" data-ng-blur="releaseFocus()" style="position: absolute; top: 0; left: 0; opacity: 0; cursor: pointer; font-size: 0; color: transparent; text-indent: 100%; padding: 0; border: none;" /></div>',defaultValue:!1,linkFn:function(a,b,c,d){function e(b){a.isChecked=b,h.setFieldValue(j,b)}function f(){h.setActiveField(j)}var g=d[0],h=d[1],i=a.model.value,j=a.model.name,k=!1;e(i===!0||"true"===i),a.isFocused=function(){return k&&g.isActive},a.toggle=function(){e(!a.isChecked),a.setFocus(),h.setFieldDirtyTouched(j)},a.toggleIfEnter=function(b){var c=32;b.which===c&&a.toggle()},a.setFocus=function(){k=!0,f()},a.releaseFocus=function(){k=!1,h.setFieldDirtyTouched(j)}},$get:angular.noop}}]),angular.module("nemo").provider("nemoInputDirectiveCreator",["$compileProvider","nemoUtilsProvider",function(a,b){"use strict";function c(a){var b,c;return b=document.createElement("div"),b.innerHTML=a,c=b.firstChild,c.setAttribute("ng-model","model.value"),c.setAttribute("ng-focus","setActiveField()"),c.setAttribute("name","{{model.name}}"),c.setAttribute("id","{{model.id || model.name}}"),c.setAttribute("placeholder","{{model.properties.placeholder.message}}"),b.innerHTML}function d(a,b,c){var d=a.model.name,e=a.$watch(function(){return b.getFieldValue(d)},function(a){void 0===c||null!==a&&void 0!==a||b.setFieldValue(d,c),e()})}function e(a,b,c,d,e,f,g){(g||angular.noop)(a,b,c,d,e,f)}function f(a,b,c){a.$watch(function(){return b.$viewValue},function(d,e){a.$evalAsync(function(){d!==e&&(b.forcedValidityValue=void 0,c.validateForm())})})}function g(a,b,c,g){return function(j,k,l,m){var n=m[0],o=m[1],p=m[2];f(j,n,o);var q=i(j,k,n,o,g,a.fieldInterfaceFns);q.setupBusinessRules(),e(j,k,l,m,b,c,a.linkFn),d(j,o,a.defaultValue),h(j,o,p)}}function h(a,b,c){var d=c?[c.$name,a.model.name]:a.model.name;a.setActiveField=function(){b.setActiveField(d)}}function i(a,b,c,d,e,f){var g=j(a,b,c,d,e),h=f?f(a,b,c,d):{};return angular.extend(g,h),d.registerField(a.model.name,g),g}function j(a,c,d,e,f){return{activeFieldChange:function(b){k(a,d,b)},releaseActive:function(){d.isActive=!1},isActive:function(){return d.isActive},isValid:function(){return d.$valid},isTouched:function(){return d.$touched},hasHelp:function(){return a.model.properties&&a.model.properties.help&&a.model.properties.help.message},setFocus:function(){c[0].focus(),e.setActiveField(a.model.name)},getValue:function(){return d.$viewValue},setValue:function(a){d.$setViewValue(a),d.$render()},getNgModelCtrl:function(){return d},setFilthy:function(){d.$setDirty(),d.$setTouched()},setupBusinessRules:function(){a.model.properties&&a.model.properties.businessrules&&(b.contains(a.model.properties.businessrules,"noAutocomplete")&&c.attr("autocomplete","off"),b.contains(a.model.properties.businessrules,"noPaste")&&c.attr("onPaste","return false;"))},forceServerInvalid:function(c,e){b.forceServerInvalid(c,e,a,d)}}}function k(a,b,c){b.isActive=l(a.model.name,c)}function l(a,b){return"string"==typeof b?m(a,b):"object"==typeof b?n(a,b):void 0}function m(a,b){return b===a}function n(a,b){for(var c=!1,d=0;d<b.length;d++)if(b[d]===a){c=!0;break}return c}function o(a,b,d,e){return{require:["ngModel","^nemoFormHandler","?^^ngModel"],template:c(a.template),replace:!0,restrict:"A",link:g(a,b,d,e),controller:a.controller}}function p(c,d){return a.directive.apply(null,["input"+b.capitalise(c),["$compile","$http","nemoMessages",function(a,b,c){return o(d,a,b,c)}]]),this}return{input:p,$get:angular.noop}}]),angular.module("nemo").provider("serverValidation",function(){return{linkFn:function(a,b,c,d,e){var f=d[0];a.$watch(function(){return f.$viewValue},function(a,b){a!==b&&e.forceValid()})},$get:{}}}),angular.module("nemo").provider("nemoValidationDirectiveCreator",["$compileProvider","nemoUtilsProvider",function(a,b){function c(a,b,c,d){var e;return e=void 0!==c.forcedValidityValue?c.forcedValidityValue:angular.isFunction(a)?a(c.$viewValue,b,d,c):!c.$error[b.id]}function d(a,b,d,e,f){b.$validators[a.id]=function(){return c(e,a,b,d)},f.set(a.id,a.message)}function e(a,b,c){b.registerValidationRule(a.id,c)}function f(a,b,c,d,e,f){var h=g(b,c,d,e),i=f.validationRuleInterfaceFns?f.validationRuleInterfaceFns(a,d):{};return angular.extend(h,i),h}function g(a,b,c,d){return{forceInvalid:function(){h(c,b.id,!1)},forceValid:function(){h(c,b.id,!0)},refreshValidity:function(){i(a,b,c,d)}}}function h(a,b,c){a.$setValidity(b,c),a.forcedValidityValue=c}function i(a,b,d,e){var f=c(a,b,d,e);d.$setValidity(b.id,f)}function j(a,b,c,g){return function(h,i,j,k){var l=h.$eval(j[b]),m=k[0],n=k[1];l.forEach(function(b){var l=f(h,c,b,m,n,a);d(b,m,n,c,g),e(b,n,l),a.linkFn&&a.linkFn(h,i,j,k,l)})}}function k(a,b,c,d){return{require:["ngModel","^nemoFormHandler"],restrict:"A",link:j(a,b,c,d)}}function l(c,d){m(c,d);var e="validation"+b.capitalise(c);return a.directive.apply(null,[e,["nemoMessages",function(a){return k(d,e,d.validateFn,a)}]]),this}function m(a,b){o[a]=b}function n(a){return o[a]}var o={};return{validation:l,$get:function(){return{getValidationOptions:n}}}}]),angular.module("nemo").service("Captcha",["$http","CaptchaModel",function(a,b){function c(c){return a.post(c.href).then(function(a){return b.create(a.data)})}return{getCaptcha:c}}]),angular.module("nemo").controller("CaptchaCtrl",["$scope","Captcha","nemoUtils",function(a,b,c){function d(){return a.model.value="",b.getCaptcha(a.model.action).then(function(b){a.captchaModel=b,a.updateCaptchaId(a.captchaModel.getId())})}var e=c.debounce(d,1e3,!0);a.refreshCaptcha=function(a){return a&&(a.stopPropagation(),a.preventDefault()),e()},a.getRequestCaptchaCopy=function(){return a.model.action.properties.actionsubmit.message},d()}]),angular.module("nemo").factory("CaptchaModel",["$sce",function(a){function b(a){var b=this;this.data=a,this.data.links&&this.data.links.forEach(function(a){a.rel.forEach(function(c){b.data[c]=a})})}return b.prototype={getImageUri:function(){return this.data.captchaImage.href},getAudioUri:function(){return a.trustAsResourceUrl(this.data.captchaAudio.href)},getId:function(){return this.data.properties.captchaId}},{create:function(a){return new b(a)}}}]),angular.module("nemo").controller("nemoFormHandlerCtrl",["$scope","$timeout","$element",function(a,b,c){function d(a,b){return f(a,i,b)}function e(a,b){return f(a,j,b)}function f(a,b,c){var d=b[a];if(d)return d;if(c)return{};throw new Error(a+" is not registered in the form.")}function g(a,b,c){return d(a,c)[b]||angular.noop}function h(a,b,c){return e(a,c)[b]||angular.noop}var i={},j={},k=[];this.getFieldsValues=function(){var a={};return angular.forEach(i,function(b,c){a[c]=b.getValue()}),a},this.setFieldValue=function(a,b,c){g(a,"setValue",c)(b)},this.getFieldValue=function(a,b){return g(a,"getValue",b)()},this.isFieldValid=function(a,b){return g(a,"isValid",b)()},this.isFieldTouched=function(a,b){return g(a,"isTouched",b)()},this.hasHelp=function(a,b){return g(a,"hasHelp",b)()},this.isFieldActive=function(a,b){return g(a,"isActive",b)()},this.getFieldNgModelCtrl=function(a,b){return g(a,"getNgModelCtrl",b)()},this.forceInvalid=function(a,b){h(a,"forceInvalid",b)(a)},this.forceServerFieldInvalid=function(a,b,c,d){return g(a,"forceServerInvalid",d)(b,c)},this.setActiveField=function(a,b){angular.forEach(i,function(c,d){g(d,"activeFieldChange",b)(a)})},this.releaseActiveField=function(a,b){g(a,"releaseActive",b)(a)},this.setFieldDirtyTouched=function(a,b){g(a,"setFilthy",b)()},this.validateFormAndSetDirtyTouched=function(){angular.forEach(j,function(a){a.refreshValidity()}),angular.forEach(i,function(a){a.setFilthy()})},this.validateForm=function(a){angular.forEach(j,function(b,c){h(c,"refreshValidity",a)()})},this.giveFieldFocus=function(a,b){g(a,"setFocus",b)()},this.giveFirstInvalidFieldFocus=function(){b(function(){angular.element(c).find("input.ng-invalid,select.ng-invalid,.field.ng-invalid input, .field.ng-invalid select").first().focus()})},this.registerField=function(a,b){i[a]=b,k.push(a)},this.registerValidationRule=function(a,b){j[a]=b}}]).directive("nemoFormHandler",[function(){return{require:["nemoFormHandler","form"],controller:"nemoFormHandlerCtrl",link:function(a,b,c,d){var e=d[0],f=d[1];e.isFormValid=function(){return f.$valid}}}}]),angular.module("nemo").directive("nemoInput",["$compile","nemoValidationDirectiveCreator",function(a,b){function c(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function d(){return angular.element("<div></div>")}function e(a,b){b[0].setAttribute("input-"+c(a),"")}function f(a,b,d){var e="validation-"+c(a.type),f="model.properties.validation["+d+"].rules";b[0].setAttribute(e,f)}function g(a,c){var d=b.getValidationOptions(a.type);d&&angular.isFunction(d.preCompileFn)&&d.preCompileFn(c)}function h(a,b){b&&a[0].setAttribute("autofocus","true")}function i(a,b){a.replaceWith(b)}function j(b,c){a(b)(c)}function k(a,b){var c=a&&a.validation;c&&c.length&&c.forEach(function(a,c){f(a,b,c),g(a,b)})}function l(){return function(a,b){var c=d();e(a.model.type,c),h(c,a.hasFocus),k(a.model.properties,c),i(b,c),j(c,a)}}return{transclude:"element",restrict:"E",scope:{model:"=",hasFocus:"="},link:l()}}]),angular.module("nemo").directive("nemoHelpMessages",["$compile",function(a){return{scope:{fieldName:"@",help:"=model"},template:'<div class="help-messages">{{help.message}}</div>',link:function(b,c){var d=b.help.code.replace(/\./g,"-"),e=angular.element("<div></div>");e.attr(d,!0),e.attr("field-name","{{fieldName}}"),e.attr("help","help"),angular.element(c.children()[0]).append(e),a(e)(b)}}}]),angular.module("nemo").directive("nemoIcon",["$sce",function(a){return{template:'<div class="field-icon field-icon_{{type}} field-icon_{{fieldName}}" data-ng-mouseover="onHover(fieldName)" data-ng-mouseleave="onBlur(fieldName)" data-ng-show="type" ng-bind-html="getText(type)"></div>',replace:!0,scope:{fieldName:"@",type:"@",onHover:"&",onBlur:"&"},link:function(b){b.getText=function(b){var c=" ";switch(b){case"valid":c="&#10004;";break;case"error":c="!";break;case"help":c="?"}return a.trustAsHtml(c)}}}}]),angular.module("nemo").directive("nemoValidationMessages",["nemoMessages",function(a){return{scope:{validation:"=model"},template:'<div data-t-validation-code="{{validationCode}}" data-ng-bind-html="getValidationMessage()" class="validation-messages"></div>',link:function(b){b.getValidationMessage=function(){for(var c in b.validation.$error)if(b.validation.$error.hasOwnProperty(c))return b.validationCode=c,a.get(c)}}}}]);